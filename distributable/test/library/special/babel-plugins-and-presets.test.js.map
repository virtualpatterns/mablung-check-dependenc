{"version":3,"sources":["../../../../source/test/library/special/babel-plugins-and-presets.test.js"],"names":["createRequire","CreateRequire","Path","Test","URL","Babel","FilePath","fileURLToPath","import","meta","url","FolderPath","dirname","Require","ResourcePath","normalize","test","deepEqual","resolve"],"mappings":"AAAA,SAASA,aAAa,IAAIC,aAA1B,QAA+C,QAA/C;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,KAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;;AAEA,SAASC,KAAT,QAAsB,mCAAtB;;AAEA,MAAMC,QAAQ,GAAGF,GAAG,CAACG,aAAJ,CAAkBC,MAAM,CAACC,IAAP,CAAYC,GAA9B,CAAjB;AACA,MAAMC,UAAU,GAAGT,IAAI,CAACU,OAAL,CAAaN,QAAb,CAAnB;;AAEA,MAAMO,OAAO,GAAGZ,aAAa,CAACO,MAAM,CAACC,IAAP,CAAYC,GAAb,CAA7B;;AAEA;AACA;AACA,MAAMI,YAAY,GAAGZ,IAAI,CAACa,SAAL,CAAgB,GAAEJ,UAAW,6EAA7B,CAArB;;AAEAR,IAAI,CAAC,8BAAD,EAAiC,MAAOa,IAAP,IAAgB;AACnDA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,gBAAhC,CAAD,EAAmD,EAAnD,CADb;AAEE;AACE,gCADF;AAEE,sBAFF;AAGE,uBAHF;AAIE,OAJF,CAFF;;AAQD,CATG,CAAJ;;AAWAX,IAAI,CAAC,0CAAD,EAA6C,MAAOa,IAAP,IAAgB;AAC/DA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,gBAAhC,CAAD,EAAmD;AAC5D,8CAD4D;AAE5D,4DAF4D;AAG5D,qCAH4D;AAI5D,qBAJ4D,CAAnD,CADb;;AAOE;AACE,8CADF;AAEE,4DAFF;AAGE,qCAHF;AAIE,qBAJF,CAPF;;AAaD,CAdG,CAAJ;;AAgBAX,IAAI,CAAC,kCAAD,EAAqC,MAAOa,IAAP,IAAgB;AACvDA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,oBAAhC,CAAD,EAAuD,EAAvD,CADb;AAEE;AACE,gCADF;AAEE,sBAFF;AAGE,uBAHF;AAIE,OAJF,CAFF;;AAQD,CATG,CAAJ;;AAWAX,IAAI,CAAC,8CAAD,EAAiD,MAAOa,IAAP,IAAgB;AACnEA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,oBAAhC,CAAD,EAAuD;AAChE,8CADgE;AAEhE,4DAFgE;AAGhE,qCAHgE;AAIhE,qBAJgE,CAAvD,CADb;;AAOE;AACE,8CADF;AAEE,4DAFF;AAGE,qCAHF;AAIE,qBAJF,CAPF;;AAaD,CAdG,CAAJ;;AAgBAX,IAAI,CAAC,6BAAD,EAAgC,MAAOa,IAAP,IAAgB;AAClDA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,eAAhC,CAAD,EAAkD,EAAlD,CADb;AAEE;AACE,gCADF;AAEE,sBAFF;AAGE,uBAHF;AAIE,OAJF,CAFF;;AAQD,CATG,CAAJ;;AAWAX,IAAI,CAAC,yCAAD,EAA4C,MAAOa,IAAP,IAAgB;AAC9DA,EAAAA,IAAI,CAACC,SAAL;AACE,QAAMZ,KAAK,CAACQ,OAAO,CAACK,OAAR,CAAiB,GAAEJ,YAAa,eAAhC,CAAD,EAAkD;AAC3D,8CAD2D;AAE3D,4DAF2D;AAG3D,qCAH2D;AAI3D,qBAJ2D,CAAlD,CADb;;AAOE;AACE,8CADF;AAEE,4DAFF;AAGE,qCAHF;AAIE,qBAJF,CAPF;;AAaD,CAdG,CAAJ","sourcesContent":["import { createRequire as CreateRequire } from 'module'\nimport Path from 'path'\nimport Test from 'ava'\nimport URL from 'url'\n\nimport { Babel } from '../../../library/special/babel.js'\n\nconst FilePath = URL.fileURLToPath(import.meta.url)\nconst FolderPath = Path.dirname(FilePath)\n\nconst Require = CreateRequire(import.meta.url)\n\n// the resources in source are used because \n// babel doesn't copy dot files (e.g. .babelrc.json)\nconst ResourcePath = Path.normalize(`${FolderPath}/../../../../source/test/library/special/resource/babel/plugins-and-presets`)\n\nTest('Babel(\\'.babelrc.json\\', [])', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/.babelrc.json`), []),\n    [\n      'proposal-export-default-from',\n      'replace-identifier',\n      'export-default-from',\n      'env'\n    ])\n})\n\nTest('Babel(\\'.babelrc.json\\', []) with rename', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/.babelrc.json`), [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ]),\n    [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ])\n})\n\nTest('Babel(\\'babel.config.json\\', [])', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/babel.config.json`), []),\n    [\n      'proposal-export-default-from',\n      'replace-identifier',\n      'export-default-from',\n      'env'\n    ])\n})\n\nTest('Babel(\\'babel.config.json\\', []) with rename', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/babel.config.json`), [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ]),\n    [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ])\n})\n\nTest('Babel(\\'package.json\\', [])', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/package.json`), []),\n    [\n      'proposal-export-default-from',\n      'replace-identifier',\n      'export-default-from',\n      'env'\n    ])\n})\n\nTest('Babel(\\'package.json\\', []) with rename', async (test) => {\n  test.deepEqual(\n    await Babel(Require.resolve(`${ResourcePath}/package.json`), [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ]),\n    [\n      '@babel/plugin-proposal-export-default-from',\n      '@virtualpatterns/mablung-babel-plugin-replace-identifier',\n      '@babel/preset-export-default-from',\n      '@babel/preset-env'\n    ])\n})\n"],"file":"babel-plugins-and-presets.test.js"}