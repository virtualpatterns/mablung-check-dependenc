{"version":3,"sources":["../../../source/test/library/check-used.test.js"],"names":["Path","Test","URL","Check","test","FilePath","fileURLToPath","import","meta","url","FolderPath","dirname","ResourcePath","normalize","deepEqual","join"],"mappings":"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","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\nimport URL from 'url'\n\nimport { Check } from '../../index.js'\nimport test from 'ava'\n\nconst FilePath = URL.fileURLToPath(import.meta.url)\nconst FolderPath = Path.dirname(FilePath)\n\n// the resources in source are used because \n// babel doesn't copy dot files (e.g. .babelrc.json)\nconst ResourcePath = Path.normalize(`${FolderPath}/../../../source/test/library/resource`)\n\nTest('Check(\\'used/ava\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/ava`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-ava': [ Path.join(ResourcePath, 'used', 'ava', 'package.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/ava.config.json\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/ava.config.json`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-ava': [ Path.join(ResourcePath, 'used', 'ava.config.json', 'ava.config.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel-environment-plugin`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-environment-plugin': [ Path.join(ResourcePath, 'used', 'babel-environment-plugin', 'package.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel-environment-preset`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-environment-preset': [ Path.join(ResourcePath, 'used', 'babel-environment-preset', 'package.json') ] \n    }\n  })\n})\n\n\nTest('Check(\\'used/babel-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel-plugin`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-plugin': [ Path.join(ResourcePath, 'used', 'babel-plugin', 'package.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel-preset`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-preset': [ Path.join(ResourcePath, 'used', 'babel-preset', 'package.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel.config.json-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel.config.json-environment-plugin`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-environment-plugin': [ Path.join(ResourcePath, 'used', 'babel.config.json-environment-plugin', 'babel.config.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel.config.json-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel.config.json-environment-preset`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-environment-preset': [ Path.join(ResourcePath, 'used', 'babel.config.json-environment-preset', 'babel.config.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel.config.json-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel.config.json-plugin`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-plugin': [ Path.join(ResourcePath, 'used', 'babel.config.json-plugin', 'babel.config.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babel.config.json-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babel.config.json-preset`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-preset': [ Path.join(ResourcePath, 'used', 'babel.config.json-preset', 'babel.config.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babelrc.json-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babelrc.json-environment-plugin`), { \n    'missing': {}, \n    'unused': [], \n    'used': { \n      '@virtualpatterns/mablung-babel-environment-plugin': [ Path.join(ResourcePath, 'used', 'babelrc.json-environment-plugin', '.babelrc.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babelrc.json-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babelrc.json-environment-preset`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-environment-preset': [ Path.join(ResourcePath, 'used', 'babelrc.json-environment-preset', '.babelrc.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babelrc.json-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babelrc.json-plugin`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-plugin': [ Path.join(ResourcePath, 'used', 'babelrc.json-plugin', '.babelrc.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/babelrc.json-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/babelrc.json-preset`), {\n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-babel-preset': [ Path.join(ResourcePath, 'used', 'babelrc.json-preset', '.babelrc.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/browser\\')', async (test) => {\n  // the packages 'buffer', 'events', 'util' (maybe more)\n  // are ignored by depcheck even if returned by the browser.js parser\n  test.deepEqual(await Check(`${ResourcePath}/used/browser`), { \n    'missing': {},\n    'unused': [\n      'buffer',\n      'events',\n      'util'\n    ],\n    'used': { \n      'stream-browserify': [ `${ResourcePath}/used/browser/package.json` ] \n    }\n  })\n})\n\nTest('Check(\\'used/dependency\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/dependency`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      '@virtualpatterns/mablung-dependency': [ Path.join(ResourcePath, 'used', 'dependency/dependency.js') ] \n    } \n  })\n})\n\nTest('Check(\\'used/parcel\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/parcel`), { \n    'missing': {}, \n    'unused': [\n      'parcel-bundler'\n    ],\n    'used': { \n      '@studysync/parcel-plugin-bundle-visualiser': [ Path.join(ResourcePath, 'used', 'parcel', 'package.json') ],\n      'parcel-plugin-asset-copier': [ Path.join(ResourcePath, 'used', 'parcel', 'package.json') ] \n    }\n  })\n})\n\nTest('Check(\\'used/pug-filter\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/pug-filter`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      'jstransformer-markdown-it': [ `${ResourcePath}/used/pug-filter/template.pug` ] \n    }\n  })\n})\n\nTest('Check(\\'used/pug-filter-include\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/pug-filter-include`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      'jstransformer-markdown-it': [ `${ResourcePath}/used/pug-filter-include/template.pug` ] \n    }\n  })\n})\n\nTest('Check(\\'used/pug-filter-and-filter-include\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/used/pug-filter-and-filter-include`), { \n    'missing': {}, \n    'unused': [],\n    'used': { \n      'jstransformer-coffee-script': [ `${ResourcePath}/used/pug-filter-and-filter-include/template.pug` ],\n      'jstransformer-markdown-it': [ `${ResourcePath}/used/pug-filter-and-filter-include/template.pug` ] \n    }\n  })\n})\n"],"file":"check-used.test.js"}