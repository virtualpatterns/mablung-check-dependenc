{"version":3,"sources":["../../../source/test/library/check.test.js"],"names":["Path","Test","URL","Check","FileParseError","FilePath","fileURLToPath","import","meta","url","FolderPath","dirname","ResourcePath","normalize","test","deepEqual","throwsAsync"],"mappings":"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","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\nimport URL from 'url'\n\nimport { Check, FileParseError } from '../../index.js'\n\nconst FilePath = URL.fileURLToPath(import.meta.url)\nconst FolderPath = Path.dirname(FilePath)\n\n// the resources in source are used because \n// babel doesn't copy dot files (e.g. .babelrc.json)\nconst ResourcePath = Path.normalize(`${FolderPath}/../../../source/test/library/resource`)\n\nTest('Check(\\'unused/dependency\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/unused/dependency`), { 'missing': {}, 'unused': [ '@virtualpatterns/mablung-dependency' ] })\n})\n\nTest('Check(\\'unused/development-dependency\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/unused/development-dependency`), { 'missing': {}, 'unused': [ '@virtualpatterns/mablung-development-dependency' ] })\n})\n\nTest('Check(\\'missing/dependency\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/dependency`), { 'missing': { '@virtualpatterns/mablung-dependency': [ `${ResourcePath}/missing/dependency/dependency.js` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/ava\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/ava`), { 'missing': { '@virtualpatterns/mablung-ava': [ `${ResourcePath}/missing/ava/package.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/ava.config.json\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/ava.config.json`), { 'missing': { '@virtualpatterns/mablung-ava': [ `${ResourcePath}/missing/ava.config.json/ava.config.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-plugin': [ `${ResourcePath}/missing/babel-plugin/package.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel-preset`), { 'missing': { '@virtualpatterns/mablung-babel-preset': [ `${ResourcePath}/missing/babel-preset/package.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel-environment-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-environment-plugin': [ `${ResourcePath}/missing/babel-environment-plugin/package.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel-environment-preset`), { 'missing': { '@virtualpatterns/mablung-babel-environment-preset': [ `${ResourcePath}/missing/babel-environment-preset/package.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel.config.json-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel.config.json-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-plugin': [ `${ResourcePath}/missing/babel.config.json-plugin/babel.config.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel.config.json-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel.config.json-preset`), { 'missing': { '@virtualpatterns/mablung-babel-preset': [ `${ResourcePath}/missing/babel.config.json-preset/babel.config.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel.config.json-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel.config.json-environment-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-environment-plugin': [ `${ResourcePath}/missing/babel.config.json-environment-plugin/babel.config.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babel.config.json-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babel.config.json-environment-preset`), { 'missing': { '@virtualpatterns/mablung-babel-environment-preset': [ `${ResourcePath}/missing/babel.config.json-environment-preset/babel.config.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babelrc.json-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babelrc.json-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-plugin': [ `${ResourcePath}/missing/babelrc.json-plugin/.babelrc.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babelrc.json-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babelrc.json-preset`), { 'missing': { '@virtualpatterns/mablung-babel-preset': [ `${ResourcePath}/missing/babelrc.json-preset/.babelrc.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babelrc.json-environment-plugin\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babelrc.json-environment-plugin`), { 'missing': { '@virtualpatterns/mablung-babel-environment-plugin': [ `${ResourcePath}/missing/babelrc.json-environment-plugin/.babelrc.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'missing/babelrc.json-environment-preset\\')', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/missing/babelrc.json-environment-preset`), { 'missing': { '@virtualpatterns/mablung-babel-environment-preset': [ `${ResourcePath}/missing/babelrc.json-environment-preset/.babelrc.json` ] }, 'unused': [] })\n})\n\nTest('Check(\\'ignore-match\\', { ignoreMatch: [ ... ] })', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/ignore-match`, { 'ignoreMatch': [ '@virtualpatterns/mablung-dependency' ] }), { 'missing': {}, 'unused': [] })\n})\n\nTest('Check(\\'ignore-pattern\\', { ignorePattern: [ ... ] })', async (test) => {\n  test.deepEqual(await Check(`${ResourcePath}/ignore-pattern`, { 'ignorePattern': [ 'ignore-pattern.js' ] }), { 'missing': {}, 'unused': [ '@virtualpatterns/mablung-dependency' ] })\n})\n\nTest('Check(\\'error/babelrc.json\\') throws FileParseError', async (test) => {\n  await test.throwsAsync(Check(`${ResourcePath}/error/babelrc.json`), { 'instanceOf': FileParseError })\n})\n"],"file":"check.test.js"}