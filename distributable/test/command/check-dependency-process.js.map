{"version":3,"sources":["../../../source/test/command/check-dependency-process.js"],"names":["createRequire","CreateRequire","FileSystem","ForkedProcess","Path","Require","import","meta","url","CheckDependencyProcess","constructor","parameter","option","resolve","path","ensureDirSync","dirname","writeTo","whenExit","Promise","onExit","on","code","off"],"mappings":"AAAA,SAASA,aAAa,IAAIC,aAA1B,QAA+C,QAA/C;AACA,OAAOC,UAAP,MAAuB,UAAvB;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AAEA,MAAMC,OAAO,GAAGJ,aAAa,CAACK,MAAM,CAACC,IAAP,CAAYC,GAAb,CAA7B;;AAEA,MAAMC,sBAAN,SAAqCN,aAArC,CAAmD;;AAEjDO,EAAAA,WAAW,CAACC,SAAS,GAAG,EAAb,EAAiBC,MAAM,GAAG,EAA1B,EAA8B;AACvC,UAAMP,OAAO,CAACQ,OAAR,CAAgB,mCAAhB,CAAN,EAA4DF,SAA5D,EAAuEC,MAAvE;;AAEA,QAAIE,IAAI,GAAG,0CAAX;AACAZ,IAAAA,UAAU,CAACa,aAAX,CAAyBX,IAAI,CAACY,OAAL,CAAaF,IAAb,CAAzB;;AAEA,SAAKG,OAAL,CAAaH,IAAb;;AAED;;AAEDI,EAAAA,QAAQ,GAAG;;AAET,WAAO,IAAIC,OAAJ,CAAaN,OAAD,IAAa;;AAE9B,UAAIO,MAAM,GAAG,IAAb;;AAEA,WAAKC,EAAL,CAAQ,MAAR,EAAgBD,MAAM,GAAIE,IAAD,IAAU;;AAEjC,aAAKC,GAAL,CAAS,MAAT,EAAiBH,MAAjB;AACAA,QAAAA,MAAM,GAAG,IAAT;;AAEAP,QAAAA,OAAO,CAACS,IAAD,CAAP;;AAED,OAPD;;AASD,KAbM,CAAP;;AAeD,GA7BgD;;;;AAiCnD,SAASb,sBAAT","sourcesContent":["import { createRequire as CreateRequire } from 'module'\nimport FileSystem from 'fs-extra'\nimport { ForkedProcess } from '@virtualpatterns/mablung-worker'\nimport Path from 'path'\n\nconst Require = CreateRequire(import.meta.url)\n\nclass CheckDependencyProcess extends ForkedProcess {\n\n  constructor(parameter = {}, option = {}) {\n    super(Require.resolve('../../command/check-dependency.js'), parameter, option)\n\n    let path = 'process/log/check-dependency-process.log'\n    FileSystem.ensureDirSync(Path.dirname(path))\n\n    this.writeTo(path)\n\n  }\n\n  whenExit() {\n\n    return new Promise((resolve) => {\n\n      let onExit = null\n\n      this.on('exit', onExit = (code) => {\n\n        this.off('exit', onExit)\n        onExit = null\n\n        resolve(code)\n\n      })\n  \n    })\n\n  }\n  \n}\n\nexport { CheckDependencyProcess }"],"file":"check-dependency-process.js"}