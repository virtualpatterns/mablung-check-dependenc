{"version":3,"sources":["../../../source/test/command/check-dependency.test.js"],"names":[],"mappings":"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","file":"check-dependency.test.js","sourcesContent":["import Path from 'path'\nimport Test from 'ava'\nimport URL from 'url'\n\nimport { CheckDependencyProcess } from './check-dependency-process.js'\n\nconst FilePath = URL.fileURLToPath(import.meta.url)\nconst FolderPath = Path.dirname(FilePath)\n\n// the resources in release are used because \n// and these tests don't rely on babel to copy \n// dot files (e.g. .babelrc.json)\nconst ResourcePath = Path.normalize(`${FolderPath}/resource`)\n\nTest.only('check-dependency', async (test) => {\n  let process = new CheckDependencyProcess()\n  test.is(await process.whenExit(), 0)\n})\n\nTest.only('check-dependency --help', async (test) => {\n  let process = new CheckDependencyProcess({ '--help': true })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path no-issue', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/no-issue` })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path unused', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/unused` })\n  test.is(await process.whenExit(), 1)\n})\n\nTest('check-dependency --project-path unused --configuration-path unused/configuration.json', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/unused`, '--configuration-path': `${ResourcePath}/unused/configuration.json` })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path missing --report-missing', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/missing`, '--report-missing': true })\n  test.is(await process.whenExit(), 1)\n})\n\nTest('check-dependency --project-path missing --no-report-missing', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/missing`, '--no-report-missing': true })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path unused --report-unused', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/unused`, '--report-unused': true })\n  test.is(await process.whenExit(), 1)\n})\n\nTest('check-dependency --project-path unused --no-report-unused', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/unused`, '--no-report-unused': true })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path no-issue --report-used', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/no-issue`, '--report-used': true })\n  test.is(await process.whenExit(), 0)\n})\n\nTest('check-dependency --project-path error', async (test) => {\n  let process = new CheckDependencyProcess({ '--project-path': `${ResourcePath}/error` })\n  test.is(await process.whenExit(), 2)\n})\n"]}